!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.fflux=e()}}(function(){return function e(t,i,n){function s(o,a){if(!i[o]){if(!t[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var p=i[o]={exports:{}};t[o][0].call(p.exports,function(e){var i=t[o][1][e];return s(i?i:e)},p,p.exports,e,t,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function s(e){return"number"==typeof e}function r(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,s,a,h,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],o(i))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),h=1;s>h;h++)a[h-1]=arguments[h];i.apply(this,a)}else if(r(i)){for(s=arguments.length,a=new Array(s-1),h=1;s>h;h++)a[h-1]=arguments[h];for(c=i.slice(),s=c.length,h=0;s>h;h++)c[h].apply(this,a)}return!0},i.prototype.addListener=function(e,t){var s;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned){var s;s=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){function i(){this.removeListener(e,i),s||(s=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var s=!1;return i.listener=t,this.on(e,i),this},i.prototype.removeListener=function(e,t){var i,s,o,a;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],o=i.length,s=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(a=o;a-->0;)if(i[a]===t||i[a].listener&&i[a].listener===t){s=a;break}if(0>s)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],n(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],2:[function(e,t){"use strict";function i(){this._dispatcher=new n,this.dispatch=function(e,t){this._dispatcher.dispatch.call(this._dispatcher,{type:e,data:t})},this.waitFor=function(e){e=e.map(function(e){return e.dispatchToken}),this._dispatcher.waitFor.call(this._dispatcher,e)}}var n=e("./vendor/Dispatcher"),s=e("./vendor/invariant"),r=e("./helper");r.extend(i.prototype,{register:function(e){e.dispatchToken=this._dispatcher.register(function(t){var i,n=t.type,o=r.keys(e.actions);o.forEach(function(r){if(r===n){switch(typeof e.actions[n]){case"string":i=e[e.actions[n]];break;case"function":i=e.actions[n]}s("function"==typeof i,"Function for action "+n+"isn't defined"),i.call(e,t.data)}})})},unregister:function(e){var t;t="string"==typeof e?e:e.dispatchToken,this._dispatcher.unregister(t)}}),t.exports=function(){return new i}},{"./helper":4,"./vendor/Dispatcher":7,"./vendor/invariant":8}],3:[function(e,t){"use strict";function i(e){n.extend(this,{actions:{}},e)}var n=e("./helper"),s=e("events").EventEmitter;n.extend(i.prototype,s.prototype,{emitChange:function(){this.emit("change")},getActions:function(){return n.clone(this.actions)},registerAction:function(e,t){if(this.actions[e])throw Error("You can't override existing handler. Unregister it first!");this.actions[e]=t},unregisterAction:function(e){if(!this.actions[e])throw Error("You have no handlers for action "+e);delete this.actions[e]}}),t.exports=function(e){return new i(e)}},{"./helper":4,events:1}],4:[function(e,t){"use strict";function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){return Object.keys(e)}function s(e){for(var t,i,n=1,s=arguments.length;s>n;n++){t=arguments[n];for(i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}function r(e){return i(e)?e.slice():s({},e)}t.exports={keys:n,isArray:i,extend:s,clone:r}},{}],5:[function(e,t){"use strict";var i=i||{};i.createDispatcher=e("./Dispatcher"),i.createStore=e("./Store"),i.mixins=e("./mixins"),t.exports=i},{"./Dispatcher":2,"./Store":3,"./mixins":6}],6:[function(e,t){"use strict";t.exports={bind:function(e){return{componentWillMount:function(){e.addListener("change",this.storeDidUpdate)},componentWillUnmount:function(){e.removeListener("change",this.storeDidUpdate)}}}}},{}],7:[function(e,t){"use strict";function i(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var n=e("./invariant"),s=1,r="ID_";i.prototype.register=function(e){var t=r+s++;return this.$Dispatcher_callbacks[t]=e,t},i.prototype.unregister=function(e){n(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},i.prototype.waitFor=function(e){n(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var i=e[t];this.$Dispatcher_isPending[i]?n(this.$Dispatcher_isHandled[i],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",i):(n(this.$Dispatcher_callbacks[i],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",i),this.$Dispatcher_invokeCallback(i))}},i.prototype.dispatch=function(e){n(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},i.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},i.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},i.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},i.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},t.exports=i},{"./invariant":8}],8:[function(e,t){"use strict";var i=function(e,t,i,n,s,r,o,a){if(!e){var h;if(void 0===t)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,s,r,o,a],p=0;h=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return c[p++]}))}throw h.framesToPop=1,h}};t.exports=i},{}]},{},[5])(5)});